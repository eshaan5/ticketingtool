<link rel="stylesheet" href="/client/app/admin/admin.css" />
<div class="container" ng-controller="AdminController">
  <nav>
    <button ng-click="show=true" ng-show="noLogo">Add Logo</button>
    <button ng-click="openFieldModal('type')">Add Ticket Type</button>
    <button ng-click="openFieldModal('relation')">Add Ticket's Relation</button>
    <button ng-click="logout()">Logout</button>
  </nav>

  <div id="detailsModal" ng-show="show">
    <div class="modal-content">
      <div ng-include="'/client/components/detailsForm/detailsForm.html'"></div>
    </div>
  </div>

  <script type="text/ng-template" id="fieldModal.html">
    <div class="modal-header">
      <button class="close" type="button" ng-click="cancel()">&times;</button>
      <h3 class="modal-title">Add Ticket Type</h3>
    </div>
    <div ng-include="'/client/components/ticketFieldsModal/ticketFieldsModal.html'"></div>
  </script>

  <div class="content">
    <div class="heading-section">
      <h2>Add Agent!</h2>
    </div>
    <form name="addAgentForm" class="form-section" ng-submit="submitForm()">
      <div class="form-content">
        <div class="form-field">
          <label for="email">Agent Email</label>
          <div class="input-container">
            <input type="email" id="email" placeholder="Email" ng-model="formData.email" name="email" ng-pattern="/^[a-zA-Z\d][^\s@]+@[^\s@]+\.[a-zA-Z]+$/" required />
            <p class="error-message" ng-show="addAgentForm.email.$error.pattern && addAgentForm.email.$dirty">Invalid email address.</p>
          </div>
        </div>
        <button class="continue-button" type="submit">Add Agent</button>
      </div>
    </form>

    <table class="users-table" ng-show="agents.length">
      <thead>
        <tr>
          <th>Name</th>
          <th>Username</th>
          <th>Email</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="agent in agents">
          <td>{{ agent.name }}</td>
          <td>{{ agent.username }}</td>
          <td>{{ agent.email }}</td>
        </tr>
      </tbody>
    </table>

    <!-- <div id="toast" ng-show="show" class="toast">
      <div class="toast-body">Agent created successfully!</div>
    </div> -->
  </div>
</div>
